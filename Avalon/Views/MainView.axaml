<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Avalon.ViewModels"
             mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="450"
             x:Class="Avalon.Views.MainView"
			 
             x:DataType="vm:MainViewModel">
	<UserControl.Resources>
		<ContextMenu Name="Menu" x:Key="Menu">
			<MenuItem Name="OpenFileMenu" Header="Open File" Click="OnMenuOpen"/>
			<MenuItem Name="OpenPathMenu" Header="Open Path" Click="on_open_path"/>
			<MenuItem Name="RemoveFileMenu" Header="Remove File" Click="on_remove_files"/>
			<MenuItem Name="ColorMainMenu" Header="Color Tag">
				<MenuItem Name="WhiteMenu" Header="None" Tag ="White" Click="EditColor"/>
				<MenuItem Name="YellowMenu" Background="Yellow" Tag ="Yellow" Click="EditColor"/>
				<MenuItem Name="GreenMenu" Background="Green" Tag ="Green" Click="EditColor"/>
				<MenuItem Name="BlueMenu" Background="Blue" Tag ="Blue" Click="EditColor"/>
				<MenuItem Name="RedMenu" Background="Red" Tag ="Red" Click="EditColor"/>
				<MenuItem Name="MagentaMenu" Background="Magenta" Tag ="Magenta" Click="EditColor"/>
			</MenuItem>
			<MenuItem Name="TagMenu" Header="User Tag">
				<TextBox Name="TagMenuInput" Width="160" Text="{Binding user_tag}"/>
				<MenuItem Name="TagMenuAdd" Header="Add Tag" Tag="Add" Click="on_add_tag"/>
				<MenuItem Name="TagMenuClear" Header="Clear Tag" Tag="Clear" Click="on_add_tag"/>
			</MenuItem>
			<MenuItem Name="ClearAllMenu" Header="Clear" Click="on_clear_files"/>
		</ContextMenu>
	</UserControl.Resources>

	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainViewModel />
  </Design.DataContext>
			<Grid Name ="MainGrid" ColumnDefinitions="1*,1*,1*" RowDefinitions="40,40,8*,5*" Margin="10">	
					<StackPanel Grid.Column="0" Grid.Row="0" Orientation="Horizontal" Spacing="10" Margin="5">
						<ToggleSwitch Name="Lockedstatus" Width="110" HorizontalContentAlignment="Center"/>
					</StackPanel>

				<StackPanel Grid.Column="1" Grid.Row="0" Orientation="Vertical">
					<Label Name="StatusLabel" Height="30" Width="110" />
				</StackPanel>
		
					<StackPanel Grid.Column="0" Grid.Row="1" Orientation="Horizontal" Spacing="10" Margin="5">
						<Button Name="AddProject" Content="New Project" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<TextBox Name="ProjectName" Height="30" Width="110"/>
						<Button Name="AddDrawing" Content="Add Drawing" Height="30" Width="120" HorizontalContentAlignment="Center"/>
						<Button Name="AddDocument" Content="Add Document" Height="30" Width="120" HorizontalContentAlignment="Center"/>
					</StackPanel>
		
					<StackPanel Grid.Column="3" Grid.Row="1" Orientation="Horizontal" FlowDirection="RightToLeft" Spacing="10" Margin="5">
						<Button Name="LoadFile" Content="Load" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<Button Name="SaveFile" Content="Save"  Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<Button Name="ToggleView" Content="Toggle View" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<Button Name="ColorMode" Content="Colormode" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<Button Name="SelectedProject" Content="" Height="30" Width="110" Background="Green" Foreground="White" FontWeight="Bold" HorizontalContentAlignment="Center" Click="on_popup"/>
						
						<Popup Name="PopupList" Height="200" Width="110" PlacementTarget="SelectedProject">
							<ListBox Name="ProjectList" ItemsSource="{Binding Projects}" Height="200" Width="110">
								<ListBox.ContextMenu>
									<ContextMenu Name="tesadsda">
										<MenuItem Name="RemoveProjectMenu" Header="Remove Project" Click="on_remove_project"/>
										<MenuItem Name="RenameMenu" Header="Rename Project">
											<TextBox Name="NewProjectName" Width="160"/>
											<MenuItem Name="RenameProjectMenu" Header="Rename" Click="on_rename_project"/>
										</MenuItem>
									</ContextMenu>
								</ListBox.ContextMenu>
							</ListBox>
						</Popup>
					</StackPanel>


				<DataGrid Name="DrawingGrid" Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Margin="5" ItemsSource="{Binding Drawings}" RowHeight="22" SelectionMode="Extended"
					AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow">
					<DataGrid.Styles>
						<Style Selector="DataGridColumnHeader">
							<Setter Property="FontSize" Value="16"/>
						</Style>
					</DataGrid.Styles>

					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>

					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Name, Mode=OneWay}"        Header="Name"           Width="Auto"/>
						<DataGridTextColumn Binding="{Binding UserTag, Mode=OneWay}"     Header="User Tag"       Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr1, Mode=OneWay}"      Header="Description 1"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr2, Mode=OneWay}"      Header="Description 2"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr3, Mode=OneWay}"      Header="Description 3"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr4, Mode=OneWay}"      Header="Description 4"  Width="Auto"/>
					</DataGrid.Columns>
				</DataGrid>

				<DataGrid Name="DocumentGrid" Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="3" Margin="5" ItemsSource="{Binding Documents}" RowHeight="22" SelectionMode="Extended" 
					AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow">
					<DataGrid.Styles>
						<Style Selector="DataGridColumnHeader">
							<Setter Property="FontSize" Value="16"/>
						</Style>
					</DataGrid.Styles>
					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Name, Mode=OneWay}"        Header="Name"           Width="Auto"/>
						<DataGridTextColumn Binding="{Binding UserTag, Mode=OneWay}"     Header="User Tag"       Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr1, Mode=OneWay}"      Header="Description 1"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr2, Mode=OneWay}"      Header="Description 2"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr3, Mode=OneWay}"      Header="Description 3"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Descr4, Mode=OneWay}"      Header="Description 4"  Width="Auto"/>
						<DataGridTextColumn Binding="{Binding Path, Mode=OneWay}"        Header="Path"           Width="*"/>
					</DataGrid.Columns>
				</DataGrid>
			</Grid>
</UserControl>
