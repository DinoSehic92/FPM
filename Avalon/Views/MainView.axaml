<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Avalon.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1400" d:DesignHeight="800"
             x:Class="Avalon.Views.MainView"
			 
             x:DataType="vm:MainViewModel">
	<UserControl.Resources>
		<ContextMenu Name="Menu" x:Key="Menu">
			<MenuItem Name="OpenFileMenu" Header="Open File" Click="OnMenuOpen"/>
			<MenuItem Name="OpenPathMenu" Header="Open Path" Click="on_open_path"/>
			<MenuItem Name="OpenMetaMenu" Header="Open Metafile" Click="on_open_metafile"/>
			<MenuItem Name="RemoveFileMenu" Header="Remove File" Click="on_remove_files"/>
			<MenuItem Name="FetchSingleMetadataMenu" Header="Fetch metadata" Click="on_fetch_single_meta"/>
			<MenuItem Name="GridLines" Header="Gridlines">
				<MenuItem Name="None" Header="None" Tag ="None" Click="ToggleGridmode"/>
				<MenuItem Name="Vertical" Header="Vertical" Tag ="Vertical" Click="ToggleGridmode"/>
				<MenuItem Name="Horizontal" Header="Horizontal" Tag ="Horizontal" Click="ToggleGridmode"/>
				<MenuItem Name="All" Header="All" Tag ="All" Click="ToggleGridmode"/>
			</MenuItem>
			<MenuItem Name="ColorMainMenu" Header="Color Tag">
				<MenuItem Name="WhiteMenu" Header="None" Tag ="White" Click="EditColor"/>
				<MenuItem Name="YellowMenu" Background="Yellow" Tag ="Yellow" Click="EditColor"/>
				<MenuItem Name="GreenMenu" Background="Green" Tag ="Green" Click="EditColor"/>
				<MenuItem Name="BlueMenu" Background="Blue" Tag ="Blue" Click="EditColor"/>
				<MenuItem Name="RedMenu" Background="Red" Tag ="Red" Click="EditColor"/>
				<MenuItem Name="MagentaMenu" Background="Magenta" Tag ="Magenta" Click="EditColor"/>
			</MenuItem>
			<MenuItem Name="TagMenu" Header="User Tag">
				<TextBox Name="TagMenuInput" Width="160" Text="{Binding user_tag}"/>
				<MenuItem Name="TagMenuAdd" Header="Add Tag" Tag="Add" Click="on_add_tag"/>
				<MenuItem Name="TagMenuClear" Header="Clear Tag" Tag="Clear" Click="on_add_tag"/>
			</MenuItem>
			<MenuItem Name="ClearAllMenu" Header="Clear" Click="on_clear_files"/>
		</ContextMenu>
	</UserControl.Resources>

	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainViewModel />
  </Design.DataContext>


	
			<Grid Name ="MainGrid" ColumnDefinitions="*" RowDefinitions="40,40,8*,5*" Margin="10" >

				<DockPanel Width="130" HorizontalAlignment="Left">
					<Menu DockPanel.Dock="Top">
						<MenuItem Header="File">
							<MenuItem Header="Load" Click="on_load_file"/>
							<Separator/>
							<MenuItem Header="Save" Click="on_save_file"/>
						</MenuItem>
						<MenuItem Header="Settings">
							<MenuItem Header="Color mode" Click="on_toggle_colormode"/>
							<MenuItem Header="Toggle view" Click="on_toggle_view"/>
						</MenuItem>
					</Menu>
					<TextBlock/>
				</DockPanel>

					<StackPanel Grid.Row="0" Orientation="Vertical" Spacing="10" Margin="5">
						<Label Name="StatusLabel" Height="30" Width="200" HorizontalContentAlignment="Center"/>
					</StackPanel>
				
					<StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="10" Margin="150,5,5,5">
						<ToggleSwitch Name="Lockedstatus" Width="80" HorizontalContentAlignment="Center"/>
						<ProgressBar Name="ProgressBar" Width="200" Value="{Binding Status}"/>
						<Label Name="ProgressStatus" Height="30" Width="200" HorizontalContentAlignment="Left"/>
					</StackPanel>


		
					<StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10" Margin="5">
						<Button Name="AddProject" Content="New Project" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<TextBox Name="ProjectName" Height="30" Width="110"/>
						<Button Name="AddDrawing" Content="Add Drawing" Height="30" Width="120" HorizontalContentAlignment="Center"/>
						<Button Name="AddDocument" Content="Add Document" Height="30" Width="120" HorizontalContentAlignment="Center"/>
						<Button Name="FetchMetadata" Content="Fetch MD" Height="30" Width="120" HorizontalContentAlignment="Center"/>
					</StackPanel>
		
					<StackPanel Grid.Row="1" Orientation="Horizontal" FlowDirection="RightToLeft" Spacing="10" Margin="5">
						<Button Name="SelectedProject" Content="" Height="30" Width="110" Background="#ff0073cf" Foreground="White" FontWeight="Bold" HorizontalContentAlignment="Center" Click="on_popup"/>
						<Button Name="Columns" Content="Columns" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						
						<Popup Name="PopupList" Height="200" Width="110" PlacementTarget="SelectedProject">
							<ListBox Name="ProjectList" ItemsSource="{Binding Projects}" Height="200" Width="110">
								<ListBox.ContextMenu>
									<ContextMenu Name="tesadsda">
										<MenuItem Name="RemoveProjectMenu" Header="Remove Project" Click="on_remove_project"/>
										<MenuItem Name="RenameMenu" Header="Rename Project">
											<TextBox Name="NewProjectName" Width="160"/>
											<MenuItem Name="RenameProjectMenu" Header="Rename" Click="on_rename_project"/>
										</MenuItem>
									</ContextMenu>
								</ListBox.ContextMenu>
							</ListBox>
						</Popup>

						<Popup Name="PopupColumnList" Height="300" Width="110" PlacementTarget="Columns">
							<ListBox Name="ColumnList" Height="300" Width="110">
								<ListBoxItem Height="25"><CheckBox Content="Name"		Tag="0"		Name="Column0"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="User Tag"	Tag="1"		Name="Column1"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Color"		Tag="2"		Name="Column2"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Handling"	Tag="3"		Name="Column3"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Status"		Tag="4"		Name="Column4"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Date"		Tag="5"		Name="Column5"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="DrawType"	Tag="6"		Name="Column6"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Descr1"		Tag="7"		Name="Column7"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Descr2"		Tag="8"		Name="Column8"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Descr3"		Tag="9"		Name="Column9"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Descr4"		Tag="10"	Name="Column10"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Rev"		Tag="11"	Name="Column11"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Type"		Tag="12"	Name="Column12"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
								<ListBoxItem Height="25"><CheckBox Content="Path"		Tag="13"	Name="Column13"	Height="25"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
							</ListBox>
						</Popup>
						
						
					</StackPanel>
				
				<DataGrid Name="DrawingGrid" Grid.Row="2" Margin="5" Padding="10" ItemsSource="{Binding Drawings}" RowHeight="22" SelectionMode="Extended"
						  AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow" CanUserReorderColumns="true">
					<DataGrid.Styles>
						<Style Selector="DataGridColumnHeader">
							<Setter Property="FontSize" Value="16"/>
						</Style>
					</DataGrid.Styles>

					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>
					
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Name, Mode=OneWay}"        Header="Name"           Width="Auto" FontFamily="UbuntuMono"/>
						<DataGridTextColumn Binding="{Binding UserTag, Mode=OneWay}"     Header="User Tag"       Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Color, Mode=OneWay}"       Header="Color"			 Width="Auto" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Handling, Mode=OneWay}"    Header="Handling"	   	 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Status, Mode=OneWay}"      Header="Status"		 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Date, Mode=OneWay}"        Header="Date"			 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding DrawType, Mode=OneWay}"    Header="DrawType"		 Width="Auto" FontFamily="Ubuntu"/>
						
						<DataGridTextColumn Binding="{Binding Descr1, Mode=OneWay}"      Header="Description 1"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr2, Mode=OneWay}"      Header="Description 2"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr3, Mode=OneWay}"      Header="Description 3"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr4, Mode=OneWay}"      Header="Description 4"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Rev, Mode=OneWay}"		 Header="Rev"			 Width="Auto" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Type, Mode=OneWay}"		 Header="Type"			 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Path, Mode=OneWay}"        Header="Path"			 Width="Auto" FontFamily="Ubuntu"/>
					</DataGrid.Columns>
				</DataGrid>

				<DataGrid Name="DocumentGrid" Grid.Row="3" Margin="5" ItemsSource="{Binding Documents}" RowHeight="22" SelectionMode="Extended" 
					AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow" CanUserReorderColumns="true">
					<DataGrid.Styles>
						<Style Selector="DataGridColumnHeader">
							<Setter Property="FontSize" Value="16"/>
						</Style>
					</DataGrid.Styles>
					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Name, Mode=OneWay}"        Header="Name"           Width="Auto" FontFamily="UbuntuMono"/>
						<DataGridTextColumn Binding="{Binding UserTag, Mode=OneWay}"     Header="User Tag"       Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Color, Mode=OneWay}"		 Header="Color"			 Width="Auto" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Handling, Mode=OneWay}"	 Header="Handling"		 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Status, Mode=OneWay}"		 Header="Status"		 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Date, Mode=OneWay}"		 Header="Date"			 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding DrawType, Mode=OneWay}"	 Header="DrawType"		 Width="Auto" FontFamily="Ubuntu"/>
						
						<DataGridTextColumn Binding="{Binding Descr1, Mode=OneWay}"      Header="Description 1"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr2, Mode=OneWay}"      Header="Description 2"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr3, Mode=OneWay}"      Header="Description 3"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Descr4, Mode=OneWay}"      Header="Description 4"  Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Rev, Mode=OneWay}"		 Header="Rev"			 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Type, Mode=OneWay}"		 Header="Type"			 Width="Auto" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Path, Mode=OneWay}"        Header="Path"           Width="Auto" FontFamily="Ubuntu"/>
					</DataGrid.Columns>
				</DataGrid>
			</Grid>
</UserControl>
