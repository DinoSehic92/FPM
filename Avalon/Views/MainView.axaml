<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Avalon.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1400" d:DesignHeight="800"
             x:Class="Avalon.Views.MainView"
			 
             x:DataType="vm:MainViewModel">
	<UserControl.Resources>
		<ContextMenu Name="Menu" x:Key="Menu">
			<MenuItem Name="OpenFileMenu" Header="Open File" Click="OnMenuOpen"/>
			<MenuItem Name="OpenPathMenu" Header="Open Path" Click="on_open_path"/>
			<MenuItem Name="OpenMetaMenu" Header="Open Metafile" Click="on_open_metafile"/>
			<MenuItem Name="RemoveFileMenu" Header="Remove File" Click="on_remove_files"/>
			<MenuItem Name="FetchSingleMetadataMenu" Header="Fetch metadata" Click="on_fetch_single_meta"/>
			<MenuItem Name="TableMenu" Header="Show table">
				<MenuItem Name="TableBothMenu" Header="Both" Tag="Both" Click="toggle_table"/>
				<MenuItem Name="TableDrawingMenu" Header="Drawings" Tag="Drawings" Click="toggle_table"/>
				<MenuItem Name="TableDocumentMenu" Header="Documents" Tag="Documents" Click="toggle_table"/>
			</MenuItem>
			<MenuItem Name="ColorMainMenu" Header="Color Tag" Background="Blue">
				<MenuItem Name="WhiteMenu" Header="None" Tag ="" Click="EditColor"/>
				<MenuItem Name="YellowMenu" Header="⬛" Foreground="Yellow" Tag ="Yellow" Click="EditColor"/>
				<MenuItem Name="OrangeMenu" Header="⬛" Foreground="Orange" Tag ="Orange" Click="EditColor"/>
				<MenuItem Name="BrownMenu" Header="⬛" Foreground="SaddleBrown" Tag ="Brown" Click="EditColor"/>
				<MenuItem Name="GreenMenu" Header="⬛" Foreground="DarkGreen" Tag ="Green" Click="EditColor"/>
				<MenuItem Name="BlueMenu" Header="⬛" Foreground="DarkBlue" Tag ="Blue" Click="EditColor"/>
				<MenuItem Name="RedMenu" Header="⬛" Foreground="Red" Tag ="Red" Click="EditColor"/>
				<MenuItem Name="MagentaMenu" Header="⬛" Foreground="Purple" Tag ="Magenta" Click="EditColor"/>
			</MenuItem>
			<MenuItem Name="TagMenu" Header="User Tag">
				<TextBox Name="TagMenuInput" Width="160" Text="{Binding user_tag}"/>
				<MenuItem Name="TagMenuAdd" Header="Add Tag" Tag="Add" Click="on_add_tag" FlowDirection="LeftToRight"/>
				<MenuItem Name="TagMenuClear" Header="Clear Tag" Tag="Clear" Click="on_add_tag"/>
			</MenuItem>
			<MenuItem Name="ClearAllMenu" Header="Clear" Click="on_clear_files"/>
		</ContextMenu>
	</UserControl.Resources>

	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainViewModel />
  </Design.DataContext>


	
			<Grid Name ="MainGrid" ColumnDefinitions="*" RowDefinitions="50,40,5*,3*" Margin="5" VerticalAlignment="Stretch">

				<DockPanel Width="130" VerticalAlignment="Top" HorizontalAlignment="Left">
					<Menu DockPanel.Dock="Top">
						<MenuItem Header="File">
							<MenuItem Header="Load" Click="on_load_file"/>
							<MenuItem Header="Save" Click="on_save_file"/>
						</MenuItem>
						<MenuItem Header="Add">
							<MenuItem Header="Drawing" Click="on_add_drawing"/>
							<MenuItem Header="Document" Click="on_add_document"/>
						</MenuItem>
					</Menu>
					<TextBlock/>
				</DockPanel>

					<StackPanel Grid.Row="0" Orientation="Vertical" Spacing="10" Margin="5">
						<Label Name="StatusLabel" Height="30" Width="200" HorizontalContentAlignment="Center" VerticalAlignment="Bottom" IsHitTestVisible="False"/>
						<Label Name="ProgressStatus" Height="30" Width="200" HorizontalContentAlignment="Center" VerticalAlignment="Top" IsHitTestVisible="False"/>
					</StackPanel>
				
					<StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="10" Margin="120,5,5,5">
						<ToggleSwitch Name="Lockedstatus" Width="50" Height="30" VerticalAlignment="Center" HorizontalContentAlignment="Center"/>
						<ProgressBar Name="ProgressBar" Width="200" Value="{Binding Status}"/>
						
					</StackPanel>


		
					<StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10" Margin="5">
						<Button Name="FetchMetadata" Content="FETCH MD" Padding="0,2,0,0" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<Button Name="AddProject" Content="NEW PROJECT" Padding="0,2,0,0" Height="30" Width="110" HorizontalContentAlignment="Center"/>
						<TextBox Name="ProjectName" Width="110"/>

					</StackPanel>
		
				
					<StackPanel Grid.Row="1" Orientation="Horizontal" FlowDirection="RightToLeft" Spacing="10" Margin="5">
						<Button Classes.accent="true" Name="SelectedProject" Foreground="White" FontWeight="Bold" Padding="0,2,0,0" Height="30" Width="130" HorizontalContentAlignment="Center" Click="Border_PointerPressed">

							<Button.Flyout>
								<Flyout FlyoutPresenterClasses="mySpecialClass" HorizontalOffset="-4" VerticalOffset="10" Placement="Bottom" ShowMode="TransientWithDismissOnPointerMoveAway">
									<ListBox Name="ProjectList" ItemsSource="{Binding Projects}" Foreground="Black" Height="200" Width="114" FlowDirection="LeftToRight">
										<ListBox.ContextMenu>
											<ContextMenu Name="tesadsda">
												<MenuItem Name="RemoveProjectMenu" Header="Remove Project" Click="on_remove_project"/>
												<MenuItem Name="RenameMenu" Header="Rename Project">
													<TextBox Name="NewProjectName" Width="160" FlowDirection="LeftToRight"/>
													<MenuItem Name="RenameProjectMenu" Header="Rename" Click="on_rename_project"/>
												</MenuItem>
											</ContextMenu>
										</ListBox.ContextMenu>
									</ListBox>
								</Flyout>
							</Button.Flyout>
						</Button>	
							
						<Button Name="Columns" Content="FILTER" Padding="0,2,0,0" Height="30" Width="168" HorizontalContentAlignment="Center" Click="Border_PointerPressed">
							<Button.Flyout>
								<Flyout FlyoutPresenterClasses="mySpecialClass" HorizontalOffset="-4" VerticalOffset="10" Placement="Bottom" ShowMode="TransientWithDismissOnPointerMoveAway">
									<ListBox Name="ColumnList" Height="450" Width="150" FlowDirection="LeftToRight" >
										<ListBoxItem Height="30"><CheckBox Content="Name"			Tag="0"		Foreground="Black" Name="Column0"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Tagg"			Tag="1"		Foreground="Black" Name="Column1"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Färg"			Tag="2"		Foreground="Black" Name="Column2"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Handling"		Tag="3"		Foreground="Black" Name="Column3"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Status"			Tag="4"		Foreground="Black" Name="Column4"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Datum"			Tag="5"		Foreground="Black" Name="Column5"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Ritningstyp"	Tag="6"		Foreground="Black" Name="Column6"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Beskrivning 1"	Tag="7"		Foreground="Black" Name="Column7"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Beskrivning 2"	Tag="8"		Foreground="Black" Name="Column8"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Beskrivning 3"  Tag="9"		Foreground="Black" Name="Column9"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Beskrivning 4"	Tag="10"	Foreground="Black" Name="Column10"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Revidering"		Tag="11"	Foreground="Black" Name="Column11"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Filtyp"			Tag="12"	Foreground="Black" Name="Column12"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
										<ListBoxItem Height="30"><CheckBox Content="Sökväg"			Tag="13"	Foreground="Black" Name="Column13"	Height="30"		Checked="ColumnCheck" Unchecked="ColumnUncheck"/></ListBoxItem>
									</ListBox>
								</Flyout>
							</Button.Flyout>
						</Button>

					</StackPanel>
				
				<DataGrid Name="DrawingGrid" Grid.Row="2" Margin="5" Padding="10" ItemsSource="{Binding Drawings}" RowHeight="22" SelectionMode="Extended"
						  AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow" CanUserReorderColumns="true">


					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>
					
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Namn, Mode=OneWay}"				Header="Namn"           Width="Auto" MinWidth="120" FontFamily="UbuntuMono"/>
						<DataGridTextColumn Binding="{Binding Tagg, Mode=OneWay}"				Header="Tagg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Färg, Mode=OneWay}"				Header="Färg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Handling, Mode=OneWay}"			Header="Handling"	   	Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Status, Mode=OneWay}"				Header="Status"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Datum, Mode=OneWay}"				Header="Datum"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Ritningstyp, Mode=OneWay}"		Header="Ritningstyp"	Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						
						<DataGridTextColumn Binding="{Binding Beskrivning1, Mode=OneWay}"		Header="Beskrivning 1"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning2, Mode=OneWay}"		Header="Beskrivning 2"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning3, Mode=OneWay}"		Header="Beskrivning 3"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning4, Mode=OneWay}"		Header="Beskrivning 4"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Revidering, Mode=OneWay}"			Header="Revidering"		Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Filtyp, Mode=OneWay}"				Header="Filtyp"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Sökväg, Mode=OneWay}"				Header="Sökväg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
					</DataGrid.Columns>
				</DataGrid>
				
				<DataGrid Name="DocumentGrid" Grid.Row="4" Margin="5" ItemsSource="{Binding Documents}" RowHeight="22" SelectionMode="Extended" 
					AutoGenerateColumns="False" IsReadOnly="True" GridLinesVisibility="Vertical" BorderThickness="2" BorderBrush="Gray" LoadingRow="DataGrid_OnLoadingRow" CanUserReorderColumns="true">

					<DataGrid.ContextMenu>
						<StaticResource ResourceKey="Menu"/>
					</DataGrid.ContextMenu>
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding Namn, Mode=OneWay}"				Header="Namn"           Width="Auto" MinWidth="120" FontFamily="UbuntuMono"/>
						<DataGridTextColumn Binding="{Binding Tagg, Mode=OneWay}"				Header="Tagg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Färg, Mode=OneWay}"				Header="Färg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Handling, Mode=OneWay}"			Header="Handling"	   	Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Status, Mode=OneWay}"				Header="Status"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Datum, Mode=OneWay}"				Header="Datum"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Ritningstyp, Mode=OneWay}"		Header="Ritningstyp"	Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Beskrivning1, Mode=OneWay}"		Header="Beskrivning 1"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning2, Mode=OneWay}"		Header="Beskrivning 2"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning3, Mode=OneWay}"		Header="Beskrivning 3"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Beskrivning4, Mode=OneWay}"		Header="Beskrivning 4"  Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Revidering, Mode=OneWay}"			Header="Revidering"		Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>

						<DataGridTextColumn Binding="{Binding Filtyp, Mode=OneWay}"				Header="Filtyp"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
						<DataGridTextColumn Binding="{Binding Sökväg, Mode=OneWay}"				Header="Sökväg"			Width="Auto" MinWidth="120" FontFamily="Ubuntu"/>
					</DataGrid.Columns>
				</DataGrid>
			</Grid>
</UserControl>
